# PLACEHOLDER: Replace with actual secret before apply.
# Create orders-db-secret with your managed DB connection string:
#
#   kubectl create secret generic orders-db-secret \
#     --from-literal=connection-string='Host=your-db.region.postgres.database.azure.com;Port=5432;Database=orders;Username=user;Password=xxx;SSL Mode=Require' \
#     -n staging
#
# Then delete this placeholder from kustomization resources.
# For now this is a no-op ConfigMap - remove and use 'kubectl create secret' above.
apiVersion: v1
kind: ConfigMap
metadata:
  name: staging-db-instructions
  annotations:
    # Instruct: create orders-db-secret before deploying
    platform/readme: "Create orders-db-secret with connection-string for managed PostgreSQL"
data:
  README: |
    Staging uses external managed DB. Create secret:
    kubectl create secret generic orders-db-secret \
      --from-literal=connection-string='Host=HOST;Port=5432;Database=orders;...' \
      -n staging
